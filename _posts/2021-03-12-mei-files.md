---
layout: post
title:  "Web Component with .mei files"
date:   2021-03-12 09:33 +0100
categories: tei-publisher
---

#### How to display .mei files with the audio player build with ```<pb-mei>```
1. The files must have the tags ```<fileDesc>, <projectDesc>, <workList>, <extMeta>``` in ```<meiHead>``` that contain metadata to render properly, even if those are empty. <br>
Here's an [example](https://raw.githubusercontent.com/DCMLab/ddd/tei-publisher/meil-files/RIE1880-0017-01.mei).
2. Upload to the project's `mei-files` folder
3. Add a ```<pb-mei>``` component with the new file's URL in the **@url** attribute like so: <br>
```<pb-mei player="true" url="https://DCMLab/ddd/tei-publisher/meil-files/RIE1880-0017-01.mei"></pb-mei>```

#### Note
- The player's size and style can be change in CSS which is embed in the this page's html for now. 
- The title and music's size is proportional to it's length.
- Because I am testing this site locally, the **@url** to the file is through Github for now so it will work on other local environments: _https://raw.githubusercontent.com/DCMLab/ddd/tei-publisher/music-pictures/RIE1880-0017-01.png_. Eventually this will be changed.

#### The viewers

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.4.3/webcomponents-loader.js"></script>
    <script type="module" src="https://unpkg.com/@teipublisher/pb-components@latest/dist/pb-components-bundle.js"></script>
    <script type="module" src="https://unpkg.com/@teipublisher/pb-components@latest/dist/pb-leaflet-map.js"></script>
    <style> 
        @import url('https://fonts.googleapis.com/css?family=Oswald|Roboto&display=swap');
        pb-mei {
            max-width: 1024px;
            width: 100%;
            max-height: 480px;
            margin: 40px 0;
            padding: 20px 0;
            border-bottom: 1px solid #919191;
            border-top: 1px solid #919191;
        }
        pb-mei:first-child {
            margin-top: 0;
        }
    </style>          
</head>
<body>
    	<pb-page endpoint="https://teipublisher.com/exist/apps/tei-publisher">
		<main>
		    <pb-mei player="true" url="https://raw.githubusercontent.com/DCMLab/ddd/tei-publisher/meil-files/RIE1880-0017-01.mei">
		    </pb-mei>
		    <pb-mei player="true" url="https://raw.githubusercontent.com/DCMLab/ddd/tei-publisher/meil-files/RIE1880-0017-02.mei">
		    </pb-mei>
		    <pb-mei player="true" url="https://raw.githubusercontent.com/DCMLab/ddd/tei-publisher/meil-files/WEI1860-0024-01.mei">
		    </pb-mei>
            <pb-mei player="true" url="https://raw.githubusercontent.com/DCMLab/ddd/tei-publisher/meil-files/WEI1860-0072-02.mei">
		    </pb-mei>
		</main>
	</pb-page>
</body>